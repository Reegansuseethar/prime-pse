<div class="question-bar">
  <strong>Question</strong>
</div>
<mat-card>
  <mat-card-content>
    <section class="scoreboard">
      <div class="row">
        <div class="score">
          <span class="leader">Score</span>
          <span class="scoreboard">
            {{ correctAnswersCount }}/{{ totalQuestions }}
          </span>
        </div>
        <div class="badge" *ngIf="question && question.questionId <= totalQuestions">
          <span>Question {{ question?.questionId+1 }} of {{ totalQuestions }}</span>
        </div>
        <div class="time-left">
          <span class="leader">Time</span>
          <span class="scoreboard">
            0:<span *ngIf="timeLeft < 10">0</span>{{ timeLeft }}
          </span>
        </div>
      </div>
    </section>

    <section id="question">
      {{question?.questionText }}
    </section>
    <app-questionform *ngIf="question" [question]="question" [disableAnswer]="disableAnswer"></app-questionform>

    <!-- <section id="option" class="row">
        <div class="col-6" *ngFor="let option of allQuestions[0]['options'] ">
            <p (click)="checkIfAnsweredCorrectly()">{{option.optionValue}}) {{option.optionText}}</p>
        </div>
        
      </section> -->


  </mat-card-content>

  <mat-card-footer>
    <section class="paging">
      <mat-card-actions>
        <div class="previousQuestionNav" *ngIf="question && question.questionId !== 0 && previous ">
            <button type="button" class="btn btn-md btn-primary" (click)="navigateToPreviousQuestion()">
              &laquo; Previous
            </button>
          </div>

        <div class="nextQuestionNav" *ngIf="question && question.questionId !== totalQuestions-1">
          <button type="button" class="btn btn-md btn-primary" [disabled]="disabled"
            (click)="navigateToNextQuestion(question?.questionId)">
            Next &raquo;
          </button>
        </div>
        
        <div class="showScoreNav" *ngIf="question && question.questionId === totalQuestions-1 && !disableAnswer">
          <button type="submit" class="btn btn-md btn-primary" (click)="navigateToResults()">
            Show Your Score</button>
        </div>

        <div class="showScoreNav" *ngIf="question && question.questionId === totalQuestions && disableAnswer">
          <button type="submit" class="btn btn-md btn-primary" (click)="navigateToDashboard()">
            Go to Dashboard</button>

        </div>
      </mat-card-actions>
    </section>

    <section class="progress-bar">
      <!-- <ngb-progressbar *ngIf="(progressValue >= 0 && progressValue <= 100) &&
                                question && question.questionId <= totalQuestions"
                         type="success" [striped]="true" [animated]="true" [value]="progressValue">
          <strong>{{ progressValue }}%</strong>
        </ngb-progressbar> -->
    </section>
  </mat-card-footer>
</mat-card>

<div bsModal #resultModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="resultModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Exam Result</h5>
        <button type="button" class="close" (click)="resultModal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body dialog-modal">
        <div class="row">
          <div class="col-sm-9 result-data"><label>Total Question</label></div>
          <div class="col-sm-3 result-data"><label>25</label></div>
          <div class="col-sm-9 result-data"><label>Total Marks</label></div>
          <div class="col-sm-3 result-data"><label>25</label></div>
          <div class="col-sm-9 result-data"><label>No.of Questions attempted</label></div>
          <div class="col-sm-3 result-data"><label>1</label></div>
          <div class="col-sm-9 result-data"><label>No.of Questions not attempted</label></div>
          <div class="col-sm-3 result-data"><label>24</label></div>
          <div class="col-sm-9 result-data"><label>Required Marks</label></div>
          <div class="col-sm-3 result-data"><label>12</label></div>
          <div class="col-sm-9 result-data"><label>Marks Scored</label></div>
          <div class="col-sm-3 result-data"><label>-0.25</label></div>
          <div class="col-sm-9 result-data"><label>Remarks</label></div>
          <div class="col-sm-3 result-data"><label>FAIL</label></div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-md btn-primary" (click)="resultModal.hide()">Close</button>
        <button type="button" class="btn btn-md btn-primary" (click)="viewAnswers()">View Answers </button>
      </div>
    </div>
  </div>
</div>